# 설계와 아키텍처란 

설계와 아키텍처는 아무런 차이가 없다.  

* 아키텍처 : 저수준의 세부사항과는 분리된 고수준의 무언가를 가리킬 때 사용된다.   
* 설계 : 저수준의 구조 또는 결정사항등을 의미한다.   

위에서는 어느정도 구분된 것처럼 보이지만, 아키텍트가 실제로 하는 일을 살펴보면 이러한 구분은 무의미히다.      

**새로운 집**  
* 아키텍처 : 형태, 외관, 입면도, 공간이나 방의 배치
* 설계 : 콘센트, 전등 스위치, 보일러, 온수기와 펌프, 벽, 지붕등의 위치들 
* 저수준의 세부사항과 고수준의 결정사항은 전체 설계의 구성요소가된다.     
 
소프트웨어도 마찬가지이다.     
모든 저수준의 세부사항과 고수준의 구조는 모두 소프트웨어 전체 설계의 구성요소이다.     
이를 통해, 대상 시스템의 구조를 정의한다.     
개별로는 존재할 수 없고, 실제로 이 둘을 구분 짓는 경계는 뚜렷하지 않다.    
고수준에서 저수준으로 향하는 의사결정의 연속성만이 있을 뿐이다.  

## 목표는?  

**소프트웨어 아키텍처의 목표**   
* 필요한 시스템을 만들고 유지보수하는 데 투입되는 인력을 최소화하는 데 있다.   
  
시스템의 수명이 다할때까지, 고객의 요구를 만족시키는데 드는 비용을 낮게하는 것이 좋은 설계라고 한다.    
새로운 기능을 출시할 때마다 비용이 증가한다면 나쁜 설계이다.    

## 사례 연구 

화사가 성장함에 따라 개발자를 늘렸지만, 이전과 큰 차이가 나지 않는 코드수를 작성하며 비용이 대폭증가한다면?     
이러한 비용 곡선은 사업 모델의 수기을 엄청나게 고갈시키며, 회사의 성장을 멈추게 하거나 완전히 망하게 한다.    

### 엉망진창이 되어가는 신호 

**파국으로 치닫는 비용곡선 만드는 법**   
* 시스템을 급하게 만든다.   
* 결과물의 총량을 순전히 프로그래머 수만으로 결정한다.    
* 코드와 설계의 구조를 깔끔하게 만들려는 생각을 전혀 하지 않는다.     
    
개발자 입장에서, 파국으로 치닫는 비용곡선은 지독한 절망감을 준다.          
모두가 노력을 기울이고, 잔업을 하며, 헌신함에도 불구하고 진척이 없는 상황에 처하게된다.          
**개발자의 노력은 기능 개발보다도 엉망이 된 상황에 대처하는 데 소모되기 시작한다.**     
결국, 개발자들이 쏟은 노력의 가치가 결국 보잘것 없게 된다.   

### 경영자의 시각 

파국으로 치닫는 비용곡선을 본다면 경영자의 입장도 난처해진다.     
제품을 출시할때마다 인력을 투입하고 시간이 길어짐에 따라 비용이 증가하기 때문이다.    
 
CEO는 이러한 참사를 미연에 방지하기 위해 조치를 취하려한다.     
하지만, `어떤 조치를 취해야하는지?` `무엇이 잘못되었는지?` 모르며 그저 발만 동동구를뿐이다.    

### 무엇이 잘못되었는가?  

이솝우화의 토끼와 거북이처럼 현대의 개발자들은 경주를 하며, 토끼와 유사한 과신을 드러낸다.       
이들 개발자는 `코드는 나중에 정리하면 돼, 당장은 시장에 출시하는게 먼저야`라는 흔해 빠진 거짓말에 속는다.      
이러한 생각을 하는 이유는 바로 여러 무리의 경쟁자가 뒤쫒고 있고, 가능한 한 빠르게 달려야하기 때문이다.     

하지만, 모두가 알고 있듯이 하나의 프로젝트를 마무리하면 바로 다음 프로젝트가 이어진다.     
결국 진행했던 프로젝트들은 모두 엉망진창이 되고, 생산성은 0을 향해 수렴하기 시작한다.   

개발자가 속는 더 잘못된 거짓말은     
`지저분한 코드를 작성하면 단기간에는 빠르게 갈 수 있고, 장기적으로 볼 때만 생산성이 낮아진다`는 견해이다.      
진실은 엉망으로 만들면 껄끔하게 유지할 때보다 항상 더 느리다.    
 
설계를 마치고 TDD를 적용한 코드와, 단순히 코드를 작성을 비교하면,       
설계를 마치고 TDD를 적용한 코드가 일정하게 약 2배이상 빠른것으로 연구되었다.   
이를 통해 소프트웨어 개발의 단순한 진리를 알 수 있었다.  

```
빨리 가는 유일한 방법은 제대로 가는 것이다.   
```
 
생산성이 감소되고 비용이 증가하는 현상을 되돌릴 수 있는 유일한 방법은        
개발자로 하여금 토끼처럼 과시하려는 믿을 버리고, 만들어 낸 엉망진창인 코드를 개발자가 책임지도록 하는 것뿐이다.      
  
개발자는 처음부터 다시 시작하여 전체 시스템을 재설계하는 것이 해답이라고 생각할지도 모른다.      
**자신을 과신한다면 재설계하더라도 원래의 프로젝트와 똑같이 엉망으로 몰린다.**    

## 결론 
어떤 경우라도 개발 조직이 할 수 있는 최고의 선택지는  
**조직에 스며든 과신을 인지하여 방지하고, 소프트웨어 아키텍처의 품질을 심각하게 고민하기 시작하는 것이다.**      

소프트웨어 아키텍처를 심각하게 고려할 수 있으려면 소프트웨어 아키텍처가 무엇인지 이해해야한다.    
비용은 최소화하고 생산성은 최대화할 수 있는 설계와 아키텍처를 가진 시스템을 만들려면,      
이러한 결과로 이끌어줄 시스템이 아키텍처가 지닌 속성을 알고 있어야한다.       
